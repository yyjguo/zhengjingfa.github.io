<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaScript简明教程（5） | Afanail</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="JavaScript中有严格模式和非严格模式两种运行环境,本章节主要讲严格模式及非严格模式下函数和变量的区别,最后简单讲诉了JavaScript作用域。 变量和函数私有变量和函数 定义在构造函数内部而被this对象的变量,在外部无法访问到的变量和函数">
<meta name="keywords" content="JavaScript,简明教程">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript简明教程（5）">
<meta property="og:url" content="http://www.afanail.com/2016/03/18/js-05/index.html">
<meta property="og:site_name" content="Afanail">
<meta property="og:description" content="JavaScript中有严格模式和非严格模式两种运行环境,本章节主要讲严格模式及非严格模式下函数和变量的区别,最后简单讲诉了JavaScript作用域。 变量和函数私有变量和函数 定义在构造函数内部而被this对象的变量,在外部无法访问到的变量和函数">
<meta property="og:image" content="http://www.afanail.com/assets/img/Snip20170217_4.png">
<meta property="og:image" content="http://www.afanail.com/assets/img/Snip20170217_3.png">
<meta property="og:updated_time" content="2017-07-22T03:52:37.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript简明教程（5）">
<meta name="twitter:description" content="JavaScript中有严格模式和非严格模式两种运行环境,本章节主要讲严格模式及非严格模式下函数和变量的区别,最后简单讲诉了JavaScript作用域。 变量和函数私有变量和函数 定义在构造函数内部而被this对象的变量,在外部无法访问到的变量和函数">
<meta name="twitter:image" content="http://www.afanail.com/assets/img/Snip20170217_4.png">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.afanail.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Afanail</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-js-05" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/18/js-05/" class="article-date">
  <time datetime="2016-03-17T17:09:24.000Z" itemprop="datePublished">2016-03-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript简明教程（5）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>JavaScript中有严格模式和非严格模式两种运行环境,本章节主要讲严格模式及非严格模式下函数和变量的区别,最后简单讲诉了JavaScript作用域。</p>
<h1 id="变量和函数"><a href="#变量和函数" class="headerlink" title="变量和函数"></a>变量和函数</h1><p><strong>私有变量和函数</strong></p>
<pre><code>定义在构造函数内部而被this对象的变量,在外部无法访问到的变量和函数
</code></pre><a id="more"></a>
<p><strong>公有变量和方法</strong></p>
<pre><code>对外暴露接口,可以通过构造函数对象创建的对象访问的属性和方法
</code></pre><p><strong>代码示例</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">type,number</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.type = type;   <span class="comment">//公共的属性</span></div><div class="line">        <span class="keyword">this</span>.number = number;</div><div class="line">        <span class="keyword">var</span> city = <span class="string">"广州"</span>;                <span class="comment">//私有变量</span></div><div class="line">        <span class="keyword">var</span> getNumber = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;       <span class="comment">//私有函数</span></div><div class="line">            <span class="keyword">return</span> number;</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">var</span> getType = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> type;</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">//能够访问私有变量和函数的方法 --- 特权方法</span></div><div class="line">        <span class="keyword">this</span>.getDescription = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(getNumber() + getType() + city);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">"汽车"</span>,<span class="string">"201718"</span>);</div><div class="line">    car.getDescription();</div></pre></td></tr></table></figure></p>
<p>说明：能够访问构造函数内部私有变量|函数的方法称之为特权方法</p>
<p><strong>构造函数的问题</strong><br>构造函数本身是一个函数，在调用的时候有多种调用方式。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">① <span class="keyword">new</span> 构造函数（）调用</div><div class="line">② 构造函数（）调用</div></pre></td></tr></table></figure></p>
<p>以上，第二种调用方式存在作用域安全的问题</p>
<p><strong>作用域安全的构造函数</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="comment">//01 提供一个构造函数</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">        <span class="comment">//容错处理</span></div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> <span class="keyword">instanceof</span> Person)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">//设置实例属性和方法</span></div><div class="line">            <span class="keyword">this</span>.name = name;</div><div class="line">            <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">            &#125;</div><div class="line">        &#125;<span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Person(name);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//02  创建对象</span></div><div class="line">    <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</div><div class="line">    <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">"lisi"</span>);</div><div class="line">    p1.showName();</div><div class="line">    p2.showName();</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p><strong>新的问题</strong><br><code>说明</code>:上面的代码在使用借用构造函数方式继承的时候存在问题，无法创建出的对象，原因在于通过call或者是apply函数调用的时候，内部的this绑定的子类型中的对象，因此在使用instanceOf 判断的时候，结果为假。<br><code>解决</code>：可以设置让子类型（构造函数）的原型对象为父类型的一个实例。<br>代码示例<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="comment">//01 提供一个构造函数</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">        <span class="comment">//容错处理</span></div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> <span class="keyword">instanceof</span> Person)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">//设置实例属性和方法</span></div><div class="line">            <span class="keyword">this</span>.name = name;</div><div class="line">            <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">            &#125;</div><div class="line">        &#125;<span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Person(name);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//02  创建对象</span></div><div class="line">    <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</div><div class="line">    <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">"lisi"</span>);</div><div class="line">    p1.showName();</div><div class="line">    p2.showName();</div><div class="line">    <span class="comment">// 使用借用构造函数来实现继承</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Boy</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">        Person.call(<span class="keyword">this</span>,name);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//需要结合原型继承来解决 instanceOf 实例对象检测的问题</span></div><div class="line">    Boy.prototype = <span class="keyword">new</span> Person();</div><div class="line">    <span class="keyword">var</span> boy = <span class="keyword">new</span> Boy(<span class="string">"测试的名字"</span>);</div><div class="line">    boy.showName();</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<h1 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h1><p>关键字 <code>“use strict”</code>;<br><strong>实现严格模式</strong>:只需要在脚本代码中添加上上述关键字即可。 关键字具体说明<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1</span>) 注意区分大小写，必须全部都是小写的</div><div class="line">(<span class="number">2</span>) 注意空格，整个字符串总共<span class="number">10</span>个字符</div><div class="line">(<span class="number">3</span>) 单引号和双引号无所谓，但是需要有双引号</div><div class="line">(<span class="number">4</span>) 必须写在作用域的最顶部，注意其位置</div><div class="line">(<span class="number">5</span>) 可以加分号，也可以不加，但是必须是一个字符串</div></pre></td></tr></table></figure></p>
<p>注意：以下的关键字写法均是错误的<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"USE strict"</span>;</div><div class="line"><span class="string">" use strict "</span>;</div><div class="line"><span class="string">"("</span>USE strict<span class="string">").toLowerCase();"</span></div></pre></td></tr></table></figure></p>
<h2 id="严格模式使用注意"><a href="#严格模式使用注意" class="headerlink" title="严格模式使用注意"></a>严格模式使用注意</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span> 所有的变量必须使用<span class="keyword">var</span> 关键字声明</div><div class="line"><span class="number">2</span> 不能使用<span class="keyword">delete</span>关键字删除全局变量 ,以前默认删除失败,严格模式下直接报错</div><div class="line"><span class="number">3</span> 在对象中不允许有同名的属性</div><div class="line"><span class="number">4</span> 函数的参数必须唯一(不能出现同名的参数)</div><div class="line"><span class="number">5</span> <span class="built_in">arguments</span>对象的行为不同,在非严格模式下修改形参的值会反映到<span class="built_in">arguments</span>中,而严格模式下则相对独立</div><div class="line"><span class="number">6</span> 禁用了argument.callee和caller函数,他们一个引用函数本身,一个引用调用函数</div><div class="line"><span class="number">7</span> 不能在<span class="keyword">if</span>语句中声明函数</div><div class="line"><span class="number">8</span> 禁止使用<span class="built_in">eval</span>和<span class="built_in">arguments</span>作为标识符</div><div class="line"><span class="number">9</span> 修正<span class="keyword">this</span>的值,在严格模式下,函数<span class="keyword">this</span>的值始终是指定的值,无论指定的是什么值。</div><div class="line"><span class="number">10</span> 禁用了<span class="keyword">with</span>语句</div><div class="line"><span class="number">11</span> 去掉了JavaScript中的八进制字面量(以<span class="number">0</span>开头的八进制字面量是无效的语法)</div></pre></td></tr></table></figure>
<p><strong>1 所有的变量都必须使用var关键字声明</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = <span class="number">10</span>;             <span class="comment">//错误的演示</span></div><div class="line"><span class="built_in">console</span>.log(<span class="number">10</span>);</div></pre></td></tr></table></figure></p>
<p><strong>② 不能使用delete关键字删除全局变量</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//在非严格模式下,删除失败(静默失败)   失败了不吭声,严格模式下直接报错</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</div><div class="line"><span class="keyword">delete</span> a;</div><div class="line"><span class="built_in">console</span>.log(a);</div></pre></td></tr></table></figure></p>
<p><strong>③ 在对象中不允许有同名的属性</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//在非严格模式下,会使用后面的属性赋值作为最终值,在严格模式下则直接报错</span></div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"张三"</span>,</div><div class="line">    <span class="attr">name</span>:<span class="string">"李四"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(obj);</div></pre></td></tr></table></figure></p>
<p><strong>④ 函数的参数必须唯一(不能出现同名的参数)</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//在非严格模式下,如果函数在定义的时候,使用了多个同名的参数,则在函数内部形参的实际值为最后一个传入的实参值</span></div><div class="line"><span class="comment">//在严格模式下,直接报错</span></div><div class="line"><span class="comment">//    function func(a,a,a) &#123;</span></div><div class="line"><span class="comment">//        console.log(a);</span></div><div class="line"><span class="comment">//        console.log(arguments);</span></div><div class="line"><span class="comment">//    &#125;</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">a,b,c</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div><div class="line">&#125;</div><div class="line">func(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</div></pre></td></tr></table></figure></p>
<p><strong>arguments对象的行为不同</strong><br>说明：<br>（1）严格模式下,在函数内部修改了对象的指向,对arguments的值不会产生影响<br>（2）在严格模式下,形参的值和arguments的值是相互独立的,在函数内部修改了形参的值对arguments不受影响<br>（3）在非严格模式下，修改了形参的值，arguments中的数据会跟着改变<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">   <span class="comment">//测试引用类型的值作为函数的参数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">       <span class="built_in">console</span>.log(obj);</div><div class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</div><div class="line">       <span class="comment">//在函数内部修改形参的值</span></div><div class="line">       obj = &#123;<span class="attr">age</span>:<span class="number">20</span>&#125;;</div><div class="line">       <span class="built_in">console</span>.log(obj);</div><div class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</div><div class="line">   &#125;</div><div class="line">   funcName(&#123;<span class="attr">name</span>:<span class="string">"张三"</span>&#125;);</div><div class="line">   <span class="comment">//测试基本类型数据作为函数的参数</span></div><div class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">       <span class="built_in">console</span>.log(str);</div><div class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</div><div class="line">       str = <span class="string">"hello"</span>;</div><div class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</div><div class="line">   &#125;</div><div class="line">   fun(<span class="string">"hi"</span>);</div></pre></td></tr></table></figure></p>
<p><strong>⑥ 禁用了argument.callee和caller函数</strong><br>说明：<br>argument.callee是对函数自身的引用<br>argument.calller是对调用函数的引用<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = (<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n ==<span class="number">1</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">arguments</span>.callee(n<span class="number">-1</span>) + n;</div><div class="line">    &#125;)(<span class="number">10</span>);</div><div class="line">    <span class="built_in">console</span>.log(num);       <span class="comment">//55</span></div></pre></td></tr></table></figure></p>
<p><strong>⑦ 不能在if语句中声明函数</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果在if语句中声明函数，则会产生语法错误</span></div><div class="line">  <span class="keyword">if</span> (<span class="literal">true</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"________"</span>);</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"呵呵呵呵"</span>);</div><div class="line">        &#125;</div><div class="line">        demo();</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>⑧ 禁止使用eval和argument作为标识符</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="built_in">eval</span> = <span class="string">"测试的字符串"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>);</div><div class="line"><span class="keyword">var</span> <span class="built_in">arguments</span> = <span class="string">"参数列表"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div></pre></td></tr></table></figure></p>
<p><strong>⑨ 修正this的值</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">在严格模式下,函数<span class="keyword">this</span>的值始终是指定的值,无论指定的是什么值</div><div class="line"><span class="keyword">var</span> name = <span class="string">"测试的name"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">demoTest</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">//在非严格模式下,打印出来的this为全局的对象window</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);  <span class="comment">//在严格模式下打印出来的this为undefined</span></div><div class="line">&#125;</div><div class="line">demoTest();</div></pre></td></tr></table></figure></p>
<p><strong>⑩ 禁用了with语句</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> o = &#123;<span class="attr">name</span>:<span class="string">"暂时干"</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</div><div class="line">  <span class="keyword">with</span>(o)</div><div class="line">  &#123;</div><div class="line">      name = <span class="string">"lisi"</span>;</div><div class="line">      age = <span class="number">48</span></div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(o);</div></pre></td></tr></table></figure></p>
<p><strong>禁用了八进制</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//以0开头的数据常常引起混乱</span></div><div class="line"><span class="comment">//var num = 023;     //2*8 + 3 ==&gt; 19</span></div><div class="line"><span class="comment">//console.log(num); //19</span></div></pre></td></tr></table></figure></p>
<p><strong>书写格式</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">01 必须使用单引号或者是双引号括住字符串</div><div class="line">02 必须使用小写,不能出现大写字符</div><div class="line">03 必须是10个字符</div><div class="line">04 字符串后面的分号可以省略</div><div class="line">05 必须写在当前作用域的最顶上</div></pre></td></tr></table></figure></p>
<p>代码示例<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="comment">//"use strict";   //正确写法</span></div><div class="line">    <span class="comment">//"use strict"    //正确写法     分号可以省略</span></div><div class="line">    <span class="comment">//'use strict';   //正确写法     可以使用单引号</span></div><div class="line">    <span class="comment">//"use  strict";    //错误写法   必须是10个字符</span></div><div class="line">    <span class="comment">//"use Strict";     //错误写法   所有的字符都必须小写</span></div><div class="line"><span class="meta">    "use strict"</span>;</div><div class="line">    a = <span class="number">10</span>;</div><div class="line">    <span class="comment">//    "use strict";           //错误写法 必须写在当前作用域的顶端</span></div><div class="line">    b = <span class="number">20</span>;</div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p><strong>作用范围</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">① 函数的顶部(只对当前的函数有效)</div><div class="line">② script标签的顶部,只对当前的标签有效,对页面中其他的script无效</div></pre></td></tr></table></figure></p>
<p>代码示例<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">//位置01       对func01和func02都有效</span></div><div class="line"> <span class="comment">//"use strict";</span></div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">func01</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="comment">//位置02   对func01有效,对func02无效</span></div><div class="line">     <span class="comment">//"use strict";</span></div><div class="line">     a = <span class="number">10</span>;</div><div class="line">     <span class="built_in">console</span>.log(a);</div><div class="line"> &#125;</div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">func02</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="comment">//位置03 对func02有效,但对func01无效</span></div><div class="line">    <span class="comment">//"use strict";</span></div><div class="line">     b = <span class="number">20</span>;</div><div class="line">     <span class="built_in">console</span>.log(b);</div><div class="line"> &#125;</div><div class="line">func01();</div><div class="line"> func02();</div></pre></td></tr></table></figure></p>
<p><strong>函数的几种调用方式</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">01</span> 普通函数调用 内部的<span class="keyword">this</span>指向全局对象<span class="built_in">window</span></div><div class="line"><span class="number">02</span> 构造函数调用 内部的<span class="keyword">this</span>指向新创建的对象</div><div class="line"><span class="number">03</span> 对象的方法调用 内部的<span class="keyword">this</span>指向调用的对象本身</div><div class="line"><span class="number">04</span> 通过call 或者是apply方式调用(函数上下文),<span class="keyword">this</span>指向的是当前的上下文对象</div></pre></td></tr></table></figure></p>
<p><strong>this丢失demo演示</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="keyword">var</span> obj = &#123;</div><div class="line">        <span class="attr">name</span>:<span class="string">"张三"</span>,</div><div class="line">        <span class="attr">getName</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//以对象的方法来进行调用</span></div><div class="line">    obj.getName();  <span class="comment">//张三</span></div><div class="line">    <span class="keyword">var</span> getName = obj.getName;</div><div class="line">    getName();  <span class="comment">//以普通函数的方式调用,此时内部的this指向的是window对象  打印的是window.name 为空值</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>代码示例02</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="comment">//01 获取页面中id值为demo的标签</span></div><div class="line">    <span class="comment">//var div = document.getElementById('demo');</span></div><div class="line"><span class="comment">//    var getId = document.getElementById;</span></div><div class="line"><span class="comment">//    var div = getId('demo');        //会报错?</span></div><div class="line"><span class="comment">//    console.log(div);</span></div><div class="line">    <span class="comment">//借用apply来修正this</span></div><div class="line">    <span class="built_in">document</span>.getElementById = (<span class="function"><span class="keyword">function</span> (<span class="params">func</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="keyword">return</span> func.apply(<span class="built_in">document</span>,<span class="built_in">arguments</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;)(<span class="built_in">document</span>.getElementById);</div><div class="line">    <span class="keyword">var</span> getId = <span class="built_in">document</span>.getElementById;</div><div class="line">    <span class="keyword">var</span> div = getId(<span class="string">'demo'</span>);        <span class="comment">//会报错?</span></div><div class="line">    <span class="built_in">console</span>.log(div);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>代码说明：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">01</span> 因为<span class="built_in">document</span>.getElementById方法的内部实现中需要使用到<span class="keyword">this</span>,这个<span class="keyword">this</span>本来期望指向的是<span class="built_in">document</span>对象</div><div class="line"><span class="number">02</span> 当我们以<span class="built_in">document</span>.getElementById来调用的时候,内部的<span class="keyword">this</span>指向<span class="built_in">document</span>对象</div><div class="line"><span class="number">03</span> 但是当我们以getId的方式调用的时候,内部的<span class="keyword">this</span>指向的是<span class="built_in">window</span>对象(因为我们以普通的方式进行调用)</div></pre></td></tr></table></figure></p>
<h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><p>变量其作用的范围就是它的作用域</p>
<p><strong>块级作用域</strong><br>说明：JavaScript中没有块级作用域<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">       <span class="keyword">var</span> num = i;</div><div class="line">   &#125;</div><div class="line">   <span class="built_in">console</span>.log(i);</div><div class="line">   <span class="built_in">console</span>.log(num);</div><div class="line">   <span class="comment">//说明:如果有块级作用域,则i和num打印的结果应该为undefined</span></div></pre></td></tr></table></figure></p>
<p><strong>词法作用域</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">词法作用域:在代码写好的那一刻,变量的作用域就已经确定的</div><div class="line">动态作用域:变量的作用域由执行时的环境所决定</div><div class="line">说明:在js中不是动态作用域,当调用的时候,是往上查找的,不会到其他函数的作用域中去查找</div></pre></td></tr></table></figure></p>
<p><strong>在JavaScript中唯一能够产生作用域的东西是函数</strong><br>代码演示<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    var a = "这是第一个a";</div><div class="line">    function func01() &#123;</div><div class="line">        console.log(a);         //先在当前作用域中查找,如果没有则访问全局的作用域</div><div class="line">    &#125;</div><div class="line">    function func02() &#123;</div><div class="line">        var a = "这是第二个a";</div><div class="line">        func01()</div><div class="line">    &#125;</div><div class="line">    func01();       //打印结果为:这是第一个a</div><div class="line">    func02();       //打印结果为:这是第一个a</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    var a = "这是第一个a";</div><div class="line">    function func02() &#123;</div><div class="line">        var a = "这是第二个a";</div><div class="line">        func01()</div><div class="line">    &#125;</div><div class="line">    function func01() &#123;</div><div class="line">        console.log(a);         //先在当前作用域中查找,如果没有则访问全局的作用域</div><div class="line">    &#125;</div><div class="line">    func01();       //打印结果为:这是第一个a</div><div class="line">    func02();       //打印结果为:这是第一个a</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><strong>词法作用域的规则</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">① 在函数内部允许访问外部的变量</div><div class="line">② 只有函数可以限定作用域</div><div class="line">③ 作用域规则首先使用提升规则分析</div><div class="line">④ 如果当前作用域中有该变量,则不考虑外部作用域的同名变量</div></pre></td></tr></table></figure></p>
<h2 id="变量和函数提升"><a href="#变量和函数提升" class="headerlink" title="变量和函数提升"></a>变量和函数提升</h2><p><strong>JS中的代码执行分为两个步骤</strong><br>① 预解析<br>JavaScript在预解析阶段,会对使用var关键字声明的变量和function声明的代码块进行提升操作,提升到当前作用域的顶端<br>② 执行</p>
<p><strong>代码提升的几种情况</strong></p>
<p><strong>01 函数提升</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    func();</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"测试的函数"</span>);</div><div class="line">    &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>02 变量提升</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="built_in">console</span>.log(a);     <span class="comment">//打印出来的结果为undefined</span></div><div class="line">    <span class="keyword">var</span> a = <span class="number">10</span>;</div><div class="line">    <span class="comment">//var a;                //注意:只会对变量的声明进行提升</span></div><div class="line">    <span class="comment">//console.log(a);</span></div><div class="line">    <span class="comment">//a = 10</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>03 函数同名情况提升</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    func01();                   <span class="comment">//打印last</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func01</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"first"</span>);</div><div class="line">    &#125;</div><div class="line">    func01();                   <span class="comment">//打印last</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func01</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"last"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//模拟提升后的情况</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func01</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"first"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func01</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"last"</span>);</div><div class="line">    &#125;</div><div class="line">    func01();</div><div class="line">    func01();</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>说明：<code>预处理的时候，同名的函数都会进行提升，但是后面的会覆盖掉前面的</code></p>
<p><strong>04 变量名和函数同名的情况</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="built_in">console</span>.log(a);                     <span class="comment">//打印function</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"我是一个函数"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">20</span>;</div><div class="line">    <span class="built_in">console</span>.log(a);                     <span class="comment">//打印20</span></div><div class="line">    <span class="comment">//变量和函数提升后的结果 错误</span></div><div class="line"><span class="comment">//    function a() &#123;</span></div><div class="line"><span class="comment">//        console.log("我是一个函数");</span></div><div class="line"><span class="comment">//    &#125;</span></div><div class="line"><span class="comment">//    var a ;</span></div><div class="line"><span class="comment">//    console.log(a);</span></div><div class="line"><span class="comment">//    a = 20;</span></div><div class="line"><span class="comment">//    console.log(a);</span></div><div class="line">    <span class="comment">//变量和函数提升后的结果 正确</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"我是一个函数"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line">    <span class="keyword">var</span> a = <span class="number">20</span>;</div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div><div class="line"><span class="string">``</span><span class="string">`js</span></div><div class="line">总结:如果出现变量和函数同名的情况,则在进行提升的时候,只会提升函数到当前作用域顶端而忽略变量的提升操作</div><div class="line"></div><div class="line">**变量的提升是分作用域的**</div><div class="line">示例代码01</div><div class="line">`<span class="string">``</span>js</div><div class="line">&lt;script&gt;</div><div class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//undefined</span></div><div class="line">    <span class="keyword">var</span> a = <span class="number">10</span>;</div><div class="line">    <span class="comment">//模拟提升</span></div><div class="line">    <span class="keyword">var</span> a;</div><div class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//undefined</span></div><div class="line">    a = <span class="number">10</span>;</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>示例代码02<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> num = <span class="number">20</span>;</div><div class="line">        <span class="built_in">console</span>.log(num);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(num);   <span class="comment">//10</span></div><div class="line">    func();             <span class="comment">//20</span></div><div class="line">    <span class="comment">//模拟提升</span></div><div class="line">    <span class="keyword">var</span> num;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> num;</div><div class="line">        num = <span class="number">20</span>;</div><div class="line">        <span class="built_in">console</span>.log(num);</div><div class="line">    &#125;</div><div class="line">    num = <span class="number">10</span>;</div><div class="line">    <span class="built_in">console</span>.log(num);   <span class="comment">//10</span></div><div class="line">    func();             <span class="comment">//20</span></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p>示例代码03<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(num);</div><div class="line">    <span class="keyword">var</span> num = <span class="number">20</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(num);   <span class="comment">//10</span></div><div class="line">func();             <span class="comment">//undefiend</span></div><div class="line"><span class="comment">//模拟提升</span></div><div class="line"><span class="keyword">var</span> num;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> num;</div><div class="line">    <span class="built_in">console</span>.log(num);</div><div class="line">    num = <span class="number">20</span>;</div><div class="line">&#125;</div><div class="line">num = <span class="number">10</span>;</div><div class="line"><span class="built_in">console</span>.log(num);   <span class="comment">//10</span></div><div class="line">func();             <span class="comment">//undefiend</span></div></pre></td></tr></table></figure></p>
<p>示例代码04<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(num);</div><div class="line">    num = <span class="number">20</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(num);   <span class="comment">//10</span></div><div class="line">func();             <span class="comment">//10</span></div><div class="line"><span class="comment">//模拟变量提升</span></div><div class="line"><span class="keyword">var</span> num;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(num);</div><div class="line">    num = <span class="number">20</span>;</div><div class="line">&#125;</div><div class="line">num= <span class="number">10</span>;</div><div class="line"><span class="built_in">console</span>.log(num);   <span class="comment">//10</span></div><div class="line">func();             <span class="comment">//10</span></div><div class="line"><span class="built_in">console</span>.log(num);   <span class="comment">//20</span></div></pre></td></tr></table></figure></p>
<p><strong>函数表达式的提升</strong><br>说明：在使用函数表达式方式创建函数的时候,整个函数表达式并不会进行提升,只会对var声明的变量提升<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">func();</div><div class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"会不会被调用"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//以上如上代码将报错</span></div><div class="line"><span class="comment">//模拟提升的过程</span></div><div class="line"><span class="keyword">var</span> func;</div><div class="line">func();                 <span class="comment">//找不到这个函数</span></div><div class="line">func = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"会不会被调用"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h1><pre><code>01 在js中函数可以创建作用域
02 函数中又可以创建函数(即又可以开辟新的作用域)
03 函数内部的作用域可以访问外部的作用域
04 如果有多个函数嵌套,那么就会构成一个链式的访问结构,也就是作用域链
05 注意:函数内部的作用域可以访问外部的作用域,但是外部的作用域却不能访问内部的作用域
</code></pre><p>代码示例<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">//f1---&gt;全局作用域</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f4</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">//f4--&gt;f1---&gt;全局作用域</span></div><div class="line">            <span class="function"><span class="keyword">function</span> <span class="title">f5</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">//f2--&gt;全局作用域</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f6</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="作用域链绘图"><a href="#作用域链绘图" class="headerlink" title="作用域链绘图"></a>作用域链绘图</h1><p>说明</p>
<pre><code>① 先画出全局作用域线条，然后在上面添加全局作用域中的函数和变量，作为0级作用域链
② 画出全局作用域中的函数的作用域线条，，然后在上面添加当前作用域中的函数和变量，作为1级作用域链
③ 以此类推，直至完成
</code></pre><p>示例代码01<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">20</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f4</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><code>图示</code><br><img src="/assets/img/Snip20170217_4.png" alt=""></p>
<p>示例代码02<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="function"><span class="keyword">function</span> <span class="title">f5</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> b = <span class="string">"demo"</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">20</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> c = <span class="string">"啊哈哈"</span>;</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f4</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> d = <span class="string">"test"</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><code>图示</code><br><img src="/assets/img/Snip20170217_3.png" alt=""></p>
<h2 id="作用域注意点和变量搜索原则"><a href="#作用域注意点和变量搜索原则" class="headerlink" title="作用域注意点和变量搜索原则"></a>作用域注意点和变量搜索原则</h2><p><strong>注意点</strong></p>
<pre><code>01 在获取值和设置值的时候都是访问变量
02 并非在函数内部写了变量,这个变量就属于当前函数,而是必须使用var 关键字声明的变量才属于当前函数
03 函数在声明的时候,里面的代码并不会执行,只有在函数调用的时候才会执行
04 声明函数时候的函数名,其实也是一个变量名,可以通过这个变量名来进行设置和赋值
05 注意:在变量内部使用var 关键字声明一个变量并不会把同名的全局变量覆盖掉
</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="keyword">var</span> a = <span class="number">20</span>;              <span class="comment">//注意:该行代码并不会覆盖掉全局变量中的变量a</span></div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line">&#125;</div><div class="line">f1();               <span class="comment">//20</span></div><div class="line"><span class="built_in">console</span>.log(a);     <span class="comment">//10</span></div></pre></td></tr></table></figure>
<p>代码点评：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">在函数中使用var关键字声明变量a并不会覆盖全局作用域中的a。</div><div class="line">注意需要同时考虑变量在当前作用域的提升以及访问变量时的搜索原则。</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f1 = <span class="string">"demo字符串"</span>;         <span class="comment">//该行代码会把f1函数覆盖掉</span></div><div class="line">f1 = <span class="string">"demoTest字符串"</span>;</div><div class="line"><span class="built_in">console</span>.log(f1);</div><div class="line"><span class="comment">//f1();</span></div></pre></td></tr></table></figure>
<p>代码点评:<br><code>函数的名称也是变量，如果在代码中出现同名的变量，那么函数的实现会被覆盖掉</code></p>
<p> <strong>变量搜索原则</strong></p>
<pre><code>01 在使用变量的时候,首先在自己的作用域中查找
02 如果找到了就直接使用,如果没有找到,那么就到上一级作用域中去查找
03 重复上面的步骤,直到0级作用域,如果还是找不到那么就返回undefined(报错)
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.afanail.com/2016/03/18/js-05/" data-id="cjbrur5890017tcypdf9ns3k2" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/简明教程/">简明教程</a></li></ul>

    </footer>
  </div>
  
    
 <script src="/jquery/jquery.min.js"></script>
  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2016/04/25/js-06/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          JavaScript简明教程（6）
        
      </div>
    </a>
  
  
    <a href="/2016/03/05/js-04/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">JavaScript简明教程（4）</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#变量和函数"><span class="toc-number">1.</span> <span class="toc-text">变量和函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#严格模式"><span class="toc-number">2.</span> <span class="toc-text">严格模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#严格模式使用注意"><span class="toc-number">2.1.</span> <span class="toc-text">严格模式使用注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#作用域"><span class="toc-number">3.</span> <span class="toc-text">作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#变量和函数提升"><span class="toc-number">3.1.</span> <span class="toc-text">变量和函数提升</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#作用域链"><span class="toc-number">4.</span> <span class="toc-text">作用域链</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#作用域链绘图"><span class="toc-number">5.</span> <span class="toc-text">作用域链绘图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#作用域注意点和变量搜索原则"><span class="toc-number">5.1.</span> <span class="toc-text">作用域注意点和变量搜索原则</span></a></li></ol></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2016 - 2017 Afanail&nbsp;
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;zjfapk@163.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>